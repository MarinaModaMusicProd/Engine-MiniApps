import{z as n,ae as m,G as u,ag as p,I as c,J as d,aa as l,bx as f,b as x,M as g,j as t,T as o}from"./main-BEfQELxr.js";import{B as j,a as i}from"./breadcrumb-BEqwPK9x.js";import{C}from"./crupdate-resource-layout-kU3RGGgA.js";import{C as P}from"./crupdate-plan-form-BihqyHrd.js";import"./useEffectEvent-TynbBUG3.js";import"./ChevronRight-BB23vmSu.js";import"./MoreHoriz-B7xw7d55.js";import"./datatable-page-with-header-layout-DgFKm91D.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";import"./permission-selector-CPRNcebx.js";import"./accordion-CpkAY-cS.js";import"./switch-kVp777pB.js";import"./list-C_muhLNE.js";import"./uc-first-pSl3nM3z.js";import"./formatted-price-DtaXBNTQ.js";import"./select-DvPFHFsY.js";import"./combobox-end-adornment-B98K5MYg.js";import"./Add-Cqjx6ezR.js";function b(e){const{trans:a}=n(),r=m();return u({mutationFn:s=>y(s),onSuccess:()=>{c(a(d("Plan created"))),l.invalidateQueries({queryKey:f.products.invalidateKey}),r("/admin/plans")},onError:s=>p(s,e)})}function y(e){const a={...e,feature_list:e.feature_list.map(r=>r.value)};return x.post("billing/products",a).then(r=>r.data)}function A(){const e=g({defaultValues:{free:!1,recommended:!1,trial_period_days:0}}),a=b(e);return t.jsx(C,{form:e,onSubmit:r=>{a.mutate(r)},title:t.jsxs(j,{size:"xl",children:[t.jsx(i,{to:"/admin/plans",children:t.jsx(o,{message:"Plans"})}),t.jsx(i,{children:t.jsx(o,{message:"New plan"})})]}),isLoading:a.isPending,children:t.jsx(P,{})})}export{A as Component};
