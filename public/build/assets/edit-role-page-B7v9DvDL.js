import{z as p,ae as c,G as x,H as b,b as j,I as f,J as g,aa as h,bx as l,M as T,cE as y,j as e,O as I,v as R,T as n}from"./main-BEfQELxr.js";import{u}from"./use-required-params-biXhH1lK.js";import{u as v}from"./useSuspenseQuery-CLDVgKJu.js";import{B as C,a as m}from"./breadcrumb-BEqwPK9x.js";import{T as q,a as E,b as L}from"./tabs-QG1LNIzu.js";import{C as S}from"./crupdate-resource-layout-kU3RGGgA.js";import"./useEffectEvent-TynbBUG3.js";import"./ChevronRight-BB23vmSu.js";import"./MoreHoriz-B7xw7d55.js";import"./datatable-page-with-header-layout-DgFKm91D.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";function $(){const{roleId:o}=u(["roleId"]),{trans:s}=p(),i=c();return x({mutationFn:a=>j.put(`roles/${o}`,a).then(t=>t.data),onSuccess:()=>{f(s(g("Role updated"))),h.invalidateQueries({queryKey:l.roles.invalidateKey}),i("/admin/roles")},onError:a=>b(a)})}const B=[{uri:"",label:{message:"Settings"}},{uri:"users",label:{message:"Users"}}];function A(){const{roleId:o}=u(["roleId"]),s=v(l.roles.get(o)),i=T({defaultValues:{name:s.data.role.name,type:s.data.role.type,description:s.data.role.description,permissions:s.data.role.permissions}}),a=$(),t=y("admin/roles/:roleId/edit/*"),d=t!=null&&t.pathname.endsWith("users")?1:0;return e.jsx(S,{isLoading:a.isPending,form:i,onSubmit:r=>{a.mutate(r)},title:e.jsxs(C,{size:"xl",children:[e.jsx(m,{to:"/admin/roles",children:e.jsx(n,{message:"Roles"})}),e.jsx(m,{children:s.data.role.name})]}),tabs:e.jsx(q,{selectedTab:d,children:e.jsx(E,{className:"px-24",children:B.map(r=>e.jsx(L,{elementType:R,to:`/admin/roles/${o}/edit${r.uri?`/${r.uri}`:""}`,children:e.jsx(n,{...r.label})},r.uri))})}),children:e.jsx(I,{})})}export{A as Component};
