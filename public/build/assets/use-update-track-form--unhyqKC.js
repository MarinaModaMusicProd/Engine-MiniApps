import{p as u}from"./track-form-DaFc8iaY.js";import{D as n}from"./paginated-resources-CNSIt8ps.js";import{z as o,G as c,ag as m,I as i,J as d,aa as p,b as l,M as f}from"./main-BEfQELxr.js";const y=a=>`tracks/${a}`;function T(a,e={}){const{trans:t}=o();return c({mutationFn:r=>k(r),onSuccess:r=>{var s;i(t(d("Track updated"))),p.invalidateQueries({queryKey:n("tracks")}),(s=e.onSuccess)==null||s.call(e,r)},onError:r=>m(r,a)})}function k({id:a,...e}){return l.put(y(a),u(e)).then(t=>t.data)}function C(a,e={}){var s;const t=f({defaultValues:{...a,image:a.image||((s=a.album)==null?void 0:s.image)}}),r=T(t,{onSuccess:e.onTrackUpdated});return{form:t,updateTrack:r}}export{C as u};
