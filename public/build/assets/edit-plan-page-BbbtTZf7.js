import{z as n,ae as m,G as p,ag as d,I as c,J as l,aa as f,bx as u,b as x,M as g,j as e,T as P}from"./main-BEfQELxr.js";import{u as j}from"./use-required-params-biXhH1lK.js";import{u as y}from"./useSuspenseQuery-CLDVgKJu.js";import{B as b,a as i}from"./breadcrumb-BEqwPK9x.js";import{C}from"./crupdate-resource-layout-kU3RGGgA.js";import{C as v}from"./crupdate-plan-form-BihqyHrd.js";import"./useEffectEvent-TynbBUG3.js";import"./ChevronRight-BB23vmSu.js";import"./MoreHoriz-B7xw7d55.js";import"./datatable-page-with-header-layout-DgFKm91D.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";import"./permission-selector-CPRNcebx.js";import"./accordion-CpkAY-cS.js";import"./switch-kVp777pB.js";import"./list-C_muhLNE.js";import"./uc-first-pSl3nM3z.js";import"./formatted-price-DtaXBNTQ.js";import"./select-DvPFHFsY.js";import"./combobox-end-adornment-B98K5MYg.js";import"./Add-Cqjx6ezR.js";function h(o){const{trans:r}=n(),a=m();return p({mutationFn:t=>q(t),onSuccess:()=>{c(r(l("Plan updated"))),f.invalidateQueries({queryKey:u.products.invalidateKey}),a("/admin/plans")},onError:t=>d(t,o)})}function q({id:o,...r}){const a={...r,feature_list:r.feature_list.map(t=>t.value)};return x.put(`billing/products/${o}`,a).then(t=>t.data)}function w(){const{productId:o}=j(["productId"]),r=y(u.products.get(o)),a=g({defaultValues:{...r.data.product,feature_list:r.data.product.feature_list.map(s=>({value:s}))}}),t=h(a);return e.jsx(C,{form:a,onSubmit:s=>{t.mutate(s)},title:e.jsxs(b,{size:"xl",children:[e.jsx(i,{to:"/admin/plans",children:e.jsx(P,{message:"Plans"})}),e.jsx(i,{children:r.data.product.name})]}),isLoading:t.isPending,children:e.jsx(v,{})})}export{w as Component};
