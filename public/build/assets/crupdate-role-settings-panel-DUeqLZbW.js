import{z as h,X as f,P as y,r as b,a6 as w,j as e,V as l,T as s,J as T,Q as F,t as C}from"./main-BEfQELxr.js";import{F as N}from"./permission-selector-CPRNcebx.js";import{S as m}from"./section-helper-BaiMamTr.js";import{F as S}from"./select-DvPFHFsY.js";import"./accordion-CpkAY-cS.js";import"./switch-kVp777pB.js";import"./list-C_muhLNE.js";import"./uc-first-pSl3nM3z.js";import"./combobox-end-adornment-B98K5MYg.js";function q(){var r;const{trans:c}=h(),[p]=f(),{watch:o,setValue:x}=y(),u=o("type"),g=o("default"),n=o("internal"),d=o("guests"),i=((r=b.useContext(w).roles)==null?void 0:r.types)??[],a=i.find(t=>t.type===u),j=(a==null?void 0:a.permission_type)??"users";return e.jsxs(e.Fragment,{children:[e.jsx(l,{label:e.jsx(s,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(l,{label:e.jsx(s,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:c(T("Role description...")),rows:4,className:"mb-20"}),i.length&&!p.get("type")?e.jsx(S,{label:e.jsx(s,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(s,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:i.map(t=>e.jsx(F,{value:t.type,children:e.jsx(s,{...t.label})},t.type))}):null,n&&g&&e.jsx(m,{title:e.jsx(s,{message:"Default role"}),description:e.jsx(s,{message:"This role will be assigned to new users, if they have no other roles."})}),n&&d&&e.jsx(m,{title:e.jsx(s,{message:"Guests role"}),description:e.jsx(s,{message:"Non logged in users will be assigned this role."})}),e.jsxs("div",{className:"mb-14 mt-30 flex items-end justify-between gap-12",children:[e.jsx("h2",{className:"text-lg font-medium",children:e.jsx(s,{message:"Permissions"})}),e.jsx(C,{variant:"outline",size:"xs",onClick:()=>x("permissions",[]),children:e.jsx(s,{message:"Remove all"})})]}),e.jsx(N,{name:"permissions",type:j})]})}export{q as Component};
