import{al as c,j as t,r as x,ae as N,z as S,aN as P,ar as k,J as M,at as O,ai as y,T as r,ao as T,v as m,O as q,u as F}from"./main-BEfQELxr.js";import{P as R}from"./player-page-suspsense-BeDCBfjQ.js";import{searchResultsTabNames as z}from"./search-results-tab-Gbm-LYqY.js";import{u as A}from"./useSuspenseQuery-CLDVgKJu.js";import{T as I,a as C,b as p}from"./tabs-QG1LNIzu.js";import{f as L}from"./index-C-eCv2z-.js";import"./album-C9ItuPVf.js";import"./album-grid-item-C7D5F_H2.js";import"./entitiy-offline-indicator-icon-CUcYL0oT.js";import"./share-media-button-C9oFSM6L.js";import"./offline-media-items-DO4Xib0S.js";import"./extension-from-filename-O0XMuZye.js";import"./play-arrow-filled-Bd3mp8QD.js";import"./use-player-store-B0Tt1GmI.js";import"./is-ctrl-or-shift-pressed-CMgU9cG9.js";import"./middleware-BLXTWOs6.js";import"./traditional-D9TTECMQ.js";import"./Pause-BRJy77mF.js";import"./create-playlist-dialog-BfNYpT-L.js";import"./image-selector-D_1V7xO8.js";import"./file-upload-provider-eR3r-15c.js";import"./uploaded-file-DYvUNPPs.js";import"./pretty-bytes-bO14ePu9.js";import"./use-active-upload-nc09ZUBt.js";import"./open-upload-window-B2GQndIr.js";import"./AddAPhoto-CZHH8SXN.js";import"./file-input-config-DrcTpI3-.js";import"./switch-kVp777pB.js";import"./Image-DEFAf6mh.js";import"./dialog-footer-DZFPEWVp.js";import"./use-auth-click-capture-BYdy-0wK.js";import"./Add-Cqjx6ezR.js";import"./KeyboardArrowRight-BVstfQVU.js";import"./FavoriteBorder-CFF5lN5d.js";import"./use-previous-C8UpiCgw.js";import"./album-image-sKMZR621.js";import"./Album-CXNrxcWI.js";import"./album-link-6XmWl295.js";import"./small-artist-image-CgkHpn0Q.js";import"./Mic-cPqrQSx8.js";import"./artist-link-fBSSBvhd.js";import"./playlist-image-CVgZeVzU.js";import"./PlaylistPlay-jDnYmdDX.js";import"./playlist-link-BuIn8fqZ.js";import"./share-media-buttons-LsRpAgAp.js";import"./Share-CwHQAfaU.js";import"./track-image-DjYnH9n0.js";import"./MusicNote-D6buyZMC.js";import"./track-link-C79i7Oi0.js";import"./tab-panels-DmVy49av.js";import"./use-clipboard-C55rQ_RF.js";import"./check-circle-filled-DrCIo0X8.js";import"./album-context-dialog-DOovC4OY.js";import"./add-to-queue-menu-button-xRsy1m89.js";import"./use-delete-album-DEYa43GE.js";import"./use-album-permissions-B3fFfLlx.js";import"./artist-links-CJ-I-YoG.js";import"./toggle-in-library-menu-button-DeSIBdG_.js";import"./toggle-repost-menu-button-DQ7TGSVf.js";import"./confirmation-dialog-CYwhNB58.js";import"./like-icon-button-BVGCt62o.js";import"./playable-grid-item-33WysPX-.js";import"./track-BCLqLBLk.js";import"./MoreHoriz-B7xw7d55.js";import"./artist-C2fP4kQS.js";import"./artist-grid-item-BLocds7J.js";import"./artist-context-dialog-C3Xppt_L.js";import"./use-artist-permissions-CHoRWnjI.js";import"./use-should-show-radio-button-D61M8rRZ.js";import"./content-grid-4RrINTRj.js";import"./genre-B_3ZyEC1.js";import"./playlist-BqUIfvab.js";import"./playlist-context-dialog-ClvYgHxd.js";import"./update-playlist-dialog-BF_1fkoi.js";import"./track-table-BzIUEBZK.js";import"./track-context-dialog-B8siridC.js";import"./use-track-permissions-BH8RwNVs.js";import"./download-file-from-url-BVaKcxRP.js";import"./table-Bdp6S_DF.js";import"./checkbox-C191zCCH.js";import"./CheckBoxOutlineBlank-B_WkUAPG.js";import"./skeleton-IvCa_cqw.js";import"./ArrowDownward-i0hV0JR6.js";import"./useInteractOutside-Iqh6soAi.js";import"./useEffectEvent-TynbBUG3.js";import"./use-pointer-events-CdAPueCj.js";import"./useGlobalListeners-BF1tAQIT.js";import"./MoreVert-Dq4kJhtz.js";import"./formatted-duration-Dqg2KYhd.js";import"./use-current-date-time-Bg8tRM7A.js";import"./Schedule-DYoblKcK.js";import"./TrendingUp-CQH53zcx.js";import"./user-grid-item-C1GY5Qnt.js";import"./infiniteQueryObserver-GtpVk2tr.js";import"./user-image-DUODosno.js";import"./Star-CAW3E2tY.js";import"./infinite-scroll-sentinel-CMv-6kYI.js";import"./use-flat-infinite-query-items-YeEYVBoR.js";import"./use-required-params-biXhH1lK.js";import"./getScrollParent--OCc5gFh.js";import"./user-D6GCMJ6c.js";function Ie(){const{searchQuery:s}=c();return t.jsxs(x.Fragment,{children:[t.jsx(Q,{}),s?t.jsx(R,{resetSuspenseOnNavigate:!1,children:t.jsx(w,{searchQuery:s})}):t.jsx($,{})]})}function Q(){const s=c(),l=N(),{trans:g}=S(),e=P("(max-width: 1024px)"),u=x.useCallback(L(o=>l(`/search/${o}`,{replace:!0}),300),[l]);return e?t.jsx(k,{defaultValue:s.searchQuery||"",onChange:o=>u(o.target.value),autoFocus:!0,className:"w-full",size:"lg",placeholder:g(M("Search..."))}):null}function $(){const{branding:s}=F();return t.jsx(y,{className:"mt-40",image:t.jsx(T,{size:"xl"}),imageHeight:"h-auto",imageMargin:"mb-12",title:t.jsx(r,{message:"Search :siteName",values:{siteName:s.site_name}}),description:t.jsx(r,{message:"Find songs, artists, albums, playlists and more."})})}function w({searchQuery:s}){var h,d,j,f,b;const l=c(),e=A(O.search.results("searchPage",s)).data.results,u=l.tabName??"home",o=x.useMemo(()=>z.filter(i=>{var n;return i==="home"||((n=e[i])==null?void 0:n.data.length)}),[e]),v=o.indexOf(u)>-1?o.indexOf(u):0,a=i=>{let n=`/search/${s}`;return i&&(n+=`/${i}`),n};return Object.entries(e).some(([,i])=>i==null?void 0:i.data.length)?t.jsxs(I,{selectedTab:v,children:[t.jsxs(C,{children:[t.jsx(p,{elementType:m,to:a(),children:t.jsx(r,{message:"Top results"})}),(h=e.tracks)!=null&&h.data.length?t.jsx(p,{elementType:m,to:a("tracks"),children:t.jsx(r,{message:"Tracks"})}):null,(d=e.artists)!=null&&d.data.length?t.jsx(p,{elementType:m,to:a("artists"),children:t.jsx(r,{message:"Artists"})}):null,(j=e.albums)!=null&&j.data.length?t.jsx(p,{elementType:m,to:a("albums"),children:t.jsx(r,{message:"Albums"})}):null,(f=e.playlists)!=null&&f.data.length?t.jsx(p,{elementType:m,to:a("playlists"),children:t.jsx(r,{message:"Playlists"})}):null,(b=e.users)!=null&&b.data.length?t.jsx(p,{elementType:m,to:a("users"),children:t.jsx(r,{message:"Profiles"})}):null]}),t.jsx("div",{className:"pt-8",children:t.jsx(q,{context:e})})]}):t.jsx(y,{className:"mt-40",image:t.jsx(T,{size:"xl"}),imageHeight:"h-auto",title:t.jsx(r,{message:"Not results for “:query“",values:{query:s}}),description:t.jsx(r,{message:"Please try a different search query"})})}export{Ie as Component};
