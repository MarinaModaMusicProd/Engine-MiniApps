import{u as v,j as e,d as R,D as T,t as k,T as a,bX as D,v as d,r as x,at as j,ai as y,aR as E,cL as O,cg as W,a8 as M,W as _,X as G,cj as X}from"./main-BEfQELxr.js";import{A as $}from"./artist-context-dialog-C3Xppt_L.js";import{S as B}from"./small-artist-image-CgkHpn0Q.js";import{g as K}from"./genre-link-CzCNmJwP.js";import{M as Z,a as N}from"./media-page-header-layout-ouASZtwH.js";import{M as J,L as U}from"./comment-bar-new-comment-form-CF3mhZxo.js";import{P as Y,q as C}from"./share-media-button-C9oFSM6L.js";import{P as ee,a as se}from"./profile-description-CecoysiF.js";import{a as m}from"./artist-page-tabs-D5ZP2b3D.js";import{I as te}from"./image-zoom-dialog-BjMwifYl.js";import{u as re}from"./use-linkified-string-C1m5nlj_.js";import{A as ie}from"./album-list-B0C5rkhq.js";import{u as g}from"./use-flat-infinite-query-items-YeEYVBoR.js";import{u as f}from"./useSuspenseInfiniteQuery-BxRXpJI4.js";import{A as F}from"./Album-CXNrxcWI.js";import{T as oe}from"./track-list-DIM5f7Wa.js";import{g as ae}from"./artist-link-fBSSBvhd.js";import{A as me}from"./album-grid-item-C7D5F_H2.js";import{C as q}from"./content-grid-4RrINTRj.js";import{I}from"./infinite-scroll-sentinel-CMv-6kYI.js";import{A as ne}from"./album-context-dialog-DOovC4OY.js";import{A as le}from"./album-image-sKMZR621.js";import{A as ce}from"./album-link-6XmWl295.js";import{T as H}from"./track-table-BzIUEBZK.js";import{u as pe}from"./use-sortable-table-data-CTahzIRp.js";import{F as de}from"./formatted-date-B-08Y9yP.js";import{A as w}from"./ad-host-DTAFXere.js";import{G as ue}from"./GridView-DoIe08yW.js";import{V as xe}from"./ViewAgenda-bK62uB99.js";import{F as je}from"./follower-list-item-ObpN9n0y.js";import{B as ge}from"./BookmarkBorder-Bbx9outg.js";import{A as fe}from"./artist-grid-item-BLocds7J.js";import{T as he,a as be,b as u}from"./tabs-QG1LNIzu.js";import{P as we}from"./player-page-header-gradient-QFN0d4GT.js";import{P as ve}from"./player-page-suspsense-BeDCBfjQ.js";import{P as ye}from"./page-meta-tags-BmlELluj.js";import{u as Ae}from"./use-required-params-biXhH1lK.js";import{u as Ne}from"./useSuspenseQuery-CLDVgKJu.js";import"./use-artist-permissions-CHoRWnjI.js";import"./toggle-in-library-menu-button-DeSIBdG_.js";import"./use-clipboard-C55rQ_RF.js";import"./use-auth-click-capture-BYdy-0wK.js";import"./use-should-show-radio-button-D61M8rRZ.js";import"./confirmation-dialog-CYwhNB58.js";import"./dialog-footer-DZFPEWVp.js";import"./Mic-cPqrQSx8.js";import"./FavoriteBorder-CFF5lN5d.js";import"./toggle-repost-menu-button-DQ7TGSVf.js";import"./Repeat-DvTTdzvg.js";import"./track-context-dialog-B8siridC.js";import"./add-to-queue-menu-button-xRsy1m89.js";import"./use-player-store-B0Tt1GmI.js";import"./is-ctrl-or-shift-pressed-CMgU9cG9.js";import"./middleware-BLXTWOs6.js";import"./traditional-D9TTECMQ.js";import"./artist-links-CJ-I-YoG.js";import"./use-track-permissions-BH8RwNVs.js";import"./track-image-DjYnH9n0.js";import"./MusicNote-D6buyZMC.js";import"./track-link-C79i7Oi0.js";import"./download-file-from-url-BVaKcxRP.js";import"./play-arrow-filled-Bd3mp8QD.js";import"./formatted-number-ChBvIyPq.js";import"./MoreHoriz-B7xw7d55.js";import"./Share-CwHQAfaU.js";import"./offline-media-items-DO4Xib0S.js";import"./extension-from-filename-O0XMuZye.js";import"./Pause-BRJy77mF.js";import"./create-playlist-dialog-BfNYpT-L.js";import"./image-selector-D_1V7xO8.js";import"./file-upload-provider-eR3r-15c.js";import"./uploaded-file-DYvUNPPs.js";import"./pretty-bytes-bO14ePu9.js";import"./use-active-upload-nc09ZUBt.js";import"./open-upload-window-B2GQndIr.js";import"./AddAPhoto-CZHH8SXN.js";import"./file-input-config-DrcTpI3-.js";import"./switch-kVp777pB.js";import"./Image-DEFAf6mh.js";import"./Add-Cqjx6ezR.js";import"./KeyboardArrowRight-BVstfQVU.js";import"./use-previous-C8UpiCgw.js";import"./playlist-image-CVgZeVzU.js";import"./PlaylistPlay-jDnYmdDX.js";import"./playlist-link-BuIn8fqZ.js";import"./share-media-buttons-LsRpAgAp.js";import"./tab-panels-DmVy49av.js";import"./linkify-Cbuu_PPG.js";import"./album-list-item-BWCTnuj6.js";import"./use-album-permissions-B3fFfLlx.js";import"./track-list-item-DRLzOJL1.js";import"./waveform-8pPmo81H.js";import"./useInteractOutside-Iqh6soAi.js";import"./useEffectEvent-TynbBUG3.js";import"./use-slider-CuTkwfyF.js";import"./useGlobalListeners-BF1tAQIT.js";import"./use-pointer-events-CdAPueCj.js";import"./generate-waveform-data-BFwf5N3g.js";import"./formatted-duration-Dqg2KYhd.js";import"./use-current-date-time-Bg8tRM7A.js";import"./slider-FNxhFg5u.js";import"./infiniteQueryObserver-GtpVk2tr.js";import"./virtual-table-body-B6t11kqm.js";import"./table-Bdp6S_DF.js";import"./checkbox-C191zCCH.js";import"./CheckBoxOutlineBlank-B_WkUAPG.js";import"./skeleton-IvCa_cqw.js";import"./ArrowDownward-i0hV0JR6.js";import"./getScrollParent--OCc5gFh.js";import"./index-BesylHmI.js";import"./entitiy-offline-indicator-icon-CUcYL0oT.js";import"./check-circle-filled-DrCIo0X8.js";import"./like-icon-button-BVGCt62o.js";import"./playable-grid-item-33WysPX-.js";import"./track-BCLqLBLk.js";import"./genre-B_3ZyEC1.js";import"./use-delete-album-DEYa43GE.js";import"./MoreVert-Dq4kJhtz.js";import"./Schedule-DYoblKcK.js";import"./TrendingUp-CQH53zcx.js";import"./sort-array-of-objects-Oyr6J2gK.js";import"./use-date-formatter-BKDPf1lG.js";import"./DateFormatter-Dix9bfnP.js";import"./user-image-DUODosno.js";import"./Star-CAW3E2tY.js";import"./follow-button-Co4hntkg.js";import"./default-meta-tags-Bj5ecgXc.js";function Te({artist:s}){var r;const{artistPage:t}=v();return e.jsx("div",{children:e.jsx(Z,{centerItems:!0,image:e.jsx(B,{showVerifiedBadge:!0,artist:s,className:"rounded-full object-cover"}),title:s.name,subtitle:(r=s.genres)!=null&&r.length?e.jsx(ke,{genres:s.genres}):null,actionsBar:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-24 md:flex-row md:justify-between",children:[e.jsx(Ie,{artist:s}),e.jsx(J,{item:s})]}),footer:t.showDescription&&e.jsx(ee,{profile:s.profile,links:s.links})})})}function ke({genres:s}){return e.jsx("ul",{className:"flex max-w-620 items-center justify-start gap-14 overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-muted max-md:hidden",children:s==null?void 0:s.slice(0,5).map(t=>e.jsx("li",{children:e.jsx(d,{to:K(t),className:"block cursor-pointer rounded-button bg-fg-base/10 px-10 py-4 text-xs transition-colors hover:bg-fg-base/20",children:t.display_name||t.name})},t.id))})}function Ie({artist:s}){return e.jsxs("div",{children:[e.jsx(Y,{queueId:C(s),buttonType:"text",className:N({isFirst:!0})}),e.jsx(U,{likeable:s,className:R(N(),"max-md:hidden")}),e.jsxs(T,{type:"popover",mobileType:"tray",children:[e.jsx(k,{variant:"outline",radius:"rounded-full",endIcon:e.jsx(D,{}),className:N(),children:e.jsx(a,{message:"More"})}),e.jsx($,{artist:s})]})]})}function Pe({artist:s}){var o,n;const{artistPage:t}=v(),r=re((o=s.profile)==null?void 0:o.description),i=x.useMemo(()=>{var l;return((l=s.profile_images)==null?void 0:l.map(p=>p.url))||[]},[s.profile_images]);return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"grid grid-cols-3 gap-24 lg:grid-cols-4",children:i.map((l,p)=>e.jsxs(T,{type:"modal",children:[e.jsx("button",{type:"button",className:"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring",children:e.jsx("img",{className:"aspect-video cursor-zoom-in rounded object-cover shadow",src:l,alt:""})}),e.jsx(te,{images:i,defaultActiveIndex:p})]},l))}),e.jsx("div",{className:"whitespace-pre-wrap py-24 text-sm",dangerouslySetInnerHTML:{__html:r||""}}),(n=s.links)!=null&&n.length&&!(t!=null&&t.showDescription)?e.jsx(se,{links:s.links}):null]})}function Se({data:s}){const t=f(j.artists.show(s.artist.id).albums("list",s.albums)),r=g(t);return r.length?e.jsx(ie,{albums:r,query:t}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(F,{size:"lg",className:"text-muted"}),title:e.jsx(a,{message:"No albums yet"}),description:e.jsx(a,{message:"Follow :artist for updates on their latest releases.",values:{artist:s.artist.name}})})}function Le({data:s}){const t=f(j.artists.show(s.artist.id).tracks(s.tracks)),r=g(t);return r.length?e.jsx(oe,{tracks:r,query:t}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(E,{size:"lg",className:"text-muted"}),title:e.jsx(a,{message:"No tracks yet"}),description:e.jsx(a,{message:"Follow :artist for updates on their latest releases.",values:{artist:s.artist.name}})})}const Me=5,_e=25;function V(){return e.jsx(y,{className:"my-80",imageHeight:"h-auto",image:e.jsx(F,{size:"xl",className:"text-muted"}),title:e.jsx(a,{message:"We do not have discography for this artist yet"})})}function De({artist:s,initialAlbums:t}){const r=f(j.artists.show(s.id).albums("grid",t)),i=g(r);return i.length?e.jsxs(q,{children:[i.map(o=>e.jsx(me,{album:o},o.id)),e.jsx(I,{query:r})]}):e.jsx(V,{})}function Ge({artist:s,initialAlbums:t}){const r=f(j.artists.show(s.id).albums("list",t)),i=g(r);return i.length?e.jsxs("section",{children:[i.map(o=>e.jsxs("div",{className:"mb-40",children:[e.jsxs("div",{className:"mb-20 flex items-center gap-14",children:[e.jsx(le,{album:o,size:"w-110 h-110",className:"flex-shrink-0 rounded object-cover"}),e.jsxs("div",{className:"min-w-0 flex-auto",children:[e.jsx("h4",{className:"min-w-0 overflow-hidden overflow-ellipsis whitespace-nowrap text-lg font-semibold max-md:mt-12",children:e.jsx(ce,{album:o})}),o.release_date&&e.jsx("div",{className:"mb-18 mt-2 text-sm text-muted",children:e.jsx(de,{date:o.release_date})}),e.jsxs(T,{type:"popover",mobileType:"tray",offset:10,children:[e.jsx(k,{variant:"outline",size:"xs",radius:"rounded-full",endIcon:e.jsx(D,{}),children:e.jsx(a,{message:"More"})}),e.jsx(ne,{album:o})]})]})]}),e.jsx(Be,{album:o})]},o.id)),e.jsx(I,{query:r})]}):e.jsx(V,{})}function Be({album:s}){const{data:t,sortDescriptor:r,onSortChange:i}=pe(s.tracks);return e.jsx(H,{tracks:t,hideAlbum:!0,hideTrackImage:!0,sortDescriptor:r,onSortChange:i,queueGroupId:C(s,"*",r)})}function Ce({tracks:s}){const[t,r]=x.useState(!1),i=x.useMemo(()=>({all:s||[],sliced:(s==null?void 0:s.slice(0,5))||[]}),[s]);return e.jsxs("div",{className:"flex-auto",children:[e.jsx("h2",{className:"my-16 text-base text-muted",children:e.jsx(a,{message:"Popular songs"})}),e.jsx(H,{tracks:t?i.all:i.sliced,hideAlbum:!0,hideHeaderRow:!0}),e.jsx(k,{radius:"rounded-full",className:"mt-20",variant:"outline",onClick:()=>{r(!t)},children:t?e.jsx(a,{message:"Show less"}):e.jsx(a,{message:"Show more"})})]})}const Fe="artistPage-albumViewMode";function qe({data:s}){const{selectedAlbumViewMode:t,albums:r,artist:i}=s,[o,n]=x.useTransition(),{player:l}=v(),[p,h]=O(Fe,t||(l==null?void 0:l.default_artist_view)||"list"),A=b=>{n(()=>h(b))};return W({isLoading:o}),e.jsxs("div",{children:[e.jsx(He,{data:s}),e.jsx(w,{slot:"artist_bottom",className:"mt-34"}),e.jsxs("div",{className:"mt-44",children:[e.jsxs("div",{className:"mb-30 flex items-center border-b pb-4 text-muted",children:[e.jsx("h2",{className:"mr-auto text-base",children:e.jsx(a,{message:"Albums"})}),e.jsx(M,{label:e.jsx(a,{message:"List view"}),children:e.jsx(_,{className:"ml-24 flex-shrink-0",color:p==="list"?"primary":void 0,onClick:()=>A("list"),children:e.jsx(xe,{})})}),e.jsx(M,{label:e.jsx(a,{message:"Grid view"}),children:e.jsx(_,{className:"flex-shrink-0",color:p==="grid"?"primary":void 0,onClick:()=>A("grid"),children:e.jsx(ue,{})})})]}),p==="list"?e.jsx(Ge,{artist:i,initialAlbums:(r==null?void 0:r.per_page)===Me?r:null}):e.jsx(De,{artist:i,initialAlbums:(r==null?void 0:r.per_page)===_e?r:null})]})]})}function He({data:s}){var r,i;if(!((r=s.top_tracks)!=null&&r.length))return null;const t=((i=s.artist.similar)==null?void 0:i.slice(0,5))||[];return e.jsxs("div",{className:"flex items-start gap-30",children:[e.jsx(Ce,{tracks:s.top_tracks}),t.length?e.jsxs("div",{className:"w-1/3 max-w-320 max-md:hidden",children:[e.jsx("h2",{className:"my-16 text-base text-muted",children:e.jsx(a,{message:"Similar artists"})}),e.jsx("div",{children:t.map(o=>e.jsxs(d,{to:ae(o),className:"mb-4 flex cursor-pointer items-center gap-14 rounded p-4 hover:bg-hover",children:[e.jsx(B,{artist:o,className:"h-44 w-44 rounded-full object-cover"}),e.jsx("div",{className:"text-sm",children:o.name})]},o.id))})]}):null]})}function Ve({data:s}){const t=f(j.artists.show(s.artist.id).followers(s.followers)),r=g(t);return r.length?e.jsxs("div",{children:[r.map(i=>e.jsx(je,{follower:i},i.id)),e.jsx(I,{query:t})]}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(ge,{size:"lg",className:"text-muted"}),description:e.jsx(a,{message:"Seems like no one is following :name yet.",values:{name:s.artist.name}})})}function ze({artist:s}){var t;return e.jsx(q,{children:(t=s.similar)==null?void 0:t.map(r=>e.jsx(fe,{artist:r},r.id))})}function z(s){const[t]=G(),{artistPage:r}=v();return x.useMemo(()=>{var b,P,S,L;const i=Object.fromEntries(Object.entries(m).map(([c,Q])=>[Q,c])),o=(b=s.similar)==null?void 0:b.length,n=((P=s.profile_images)==null?void 0:P.length)||((S=s.profile)==null?void 0:S.description),l=(L=r==null?void 0:r.tabs)==null?void 0:L.filter(c=>!(!c.active||c.id===m.similar&&!o||c.id===m.about&&!n)).map(c=>({...c,name:i[c.id]})),p=m[t.get("tab")],h=l==null?void 0:l.findIndex(c=>c.id==p);return{selectedIndex:h>-1?h:0,activeTabs:l}},[s,r.tabs,t])}function Qe({data:s}){const{selectedIndex:t,activeTabs:r}=z(s.artist);return e.jsxs(he,{className:"mt-24 md:mt-48",selectedTab:t,children:[e.jsx(be,{children:r.map((i,o)=>{const n=o===0?"":`?tab=${i.name}`;switch(`${i.id}`){case m.discography:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Discography"})},m.discography);case m.similar:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Similar artists"})},m.similar);case m.about:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"About"})},m.about);case m.tracks:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Tracks"})},m.tracks);case m.albums:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Albums"})},m.albums);case m.followers:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Followers"})},m.followers)}})}),e.jsx("div",{className:"mt-12 md:mt-24",children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex min-h-124 items-center justify-center",children:e.jsx(X,{})}),children:e.jsx(Re,{data:s})},t)})]})}function Re({data:s}){const{activeTabs:t}=z(s.artist),[r]=G(),i=r.get("tab");let o=t.find(n=>n.name===i);switch(o||(o=t[0]),o.name){case"discography":return e.jsx(qe,{data:s});case"similar":return e.jsx(ze,{artist:s.artist});case"about":return e.jsx(Pe,{artist:s.artist});case"tracks":return e.jsx(Le,{data:s});case"albums":return e.jsx(Se,{data:s});case"followers":return e.jsx(Ve,{data:s})}}function cr(){return e.jsx(ve,{children:e.jsx(Ee,{})})}function Ee(){const{artistId:s}=Ae(["artistId"]),t=Ne(j.artists.show(s).artist("artistPage"));return e.jsxs(e.Fragment,{children:[e.jsx(ye,{query:t}),t.data.artist.image_small&&e.jsx(we,{image:t.data.artist.image_small}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{slot:"general_top",className:"mb-34"}),e.jsx(Te,{artist:t.data.artist}),e.jsx(w,{slot:"artist_top",className:"mt-14"}),e.jsx(Qe,{data:t.data}),e.jsx(w,{slot:"general_bottom",className:"mt-34"})]})]})}export{cr as Component};
