import{j as e,aM as d,an as c,T as t,co as p,a8 as u,W as g,bx as h,ab as x}from"./main-BEfQELxr.js";import{N as j}from"./name-with-avatar-FJqara4g.js";import{u as b}from"./use-rerurun-scheduled-command-CK6haKgK.js";import{E as y}from"./EventRepeat-DNBbP2pn.js";import{u as f,a as D,G as S,D as w,b as C,c as P}from"./use-datatable-query-DPUO64j4.js";import{D as T}from"./data-table-add-item-button-BdngBic4.js";import{a as v,b as I,c as k}from"./datatable-page-with-header-layout-DgFKm91D.js";import{T as N}from"./table-Bdp6S_DF.js";import{D as R}from"./Download-Dfp9nObW.js";import"./paginated-resources-CNSIt8ps.js";import"./FilterAlt-Cy68O-Jt.js";import"./form-normalized-model-chip-field-4XjViKi1.js";import"./use-normalized-models-ChKc2G_X.js";import"./form-chip-field-82C9gJw-.js";import"./input-BypPJ39K.js";import"./chip-list-CnaxlPJ9.js";import"./accordion-CpkAY-cS.js";import"./checkbox-C191zCCH.js";import"./CheckBoxOutlineBlank-B_WkUAPG.js";import"./ArrowRightAlt-CIybcFtZ.js";import"./DateRange-DXC1xWJJ.js";import"./use-base-date-picker-state-C8djIY4i.js";import"./use-date-formatter-BKDPf1lG.js";import"./DateFormatter-Dix9bfnP.js";import"./KeyboardArrowRight-BVstfQVU.js";import"./use-date-range-picker-state-CLLDtAYm.js";import"./list-C_muhLNE.js";import"./switch-kVp777pB.js";import"./formatted-date-B-08Y9yP.js";import"./dialog-footer-DZFPEWVp.js";import"./is-tablet-media-query-BWKVDwFI.js";import"./use-current-date-time-Bg8tRM7A.js";import"./select-DvPFHFsY.js";import"./combobox-end-adornment-B98K5MYg.js";import"./normalized-model-field-AJN-ee7u.js";import"./Edit-gh_pXqg9.js";import"./skeleton-IvCa_cqw.js";import"./Add-Cqjx6ezR.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";import"./ArrowDownward-i0hV0JR6.js";import"./useInteractOutside-Iqh6soAi.js";import"./useEffectEvent-TynbBUG3.js";import"./is-ctrl-or-shift-pressed-CMgU9cG9.js";import"./use-pointer-events-CdAPueCj.js";import"./useGlobalListeners-BF1tAQIT.js";function B({value:a}){return a?e.jsx(d,{className:"text-positive icon-md"}):e.jsx(c,{className:"text-danger icon-md"})}const E=[{key:"command",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(t,{message:"Name"}),body:a=>e.jsx(j,{label:a.command,description:a.output})},{key:"ran_at",allowsSorting:!0,header:()=>e.jsx(t,{message:"Last ran at"}),body:a=>e.jsx(p,{date:a.ran_at})},{key:"duration",allowsSorting:!0,header:()=>e.jsx(t,{message:"Duration"}),body:a=>`${a.duration}ms`},{key:"exit_code",allowsSorting:!0,header:()=>e.jsx(t,{message:"Completed"}),body:a=>e.jsx(B,{value:a.exit_code===0})},{key:"actions",header:()=>e.jsx(t,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:a=>e.jsx(M,{item:a})}];function M({item:a}){const o=b();return e.jsx(u,{label:e.jsx(t,{message:"Rerun now"}),children:e.jsx(g,{size:"md",className:"text-muted",disabled:o.isPending,onClick:()=>{o.mutate({id:a.id})},children:e.jsx(y,{})})})}const A=""+new URL("timeline-rkMiiJX5.svg",import.meta.url).href;function Ie(){const{searchParams:a,sortDescriptor:o,mergeIntoSearchParams:s,setSearchQuery:m,isFiltering:n}=f(x),r=D({...h.logs.cron(a)}),l=e.jsx(T,{elementType:"a",href:"api/v1/logs/schedule/download",download:!0,icon:e.jsx(R,{}),children:e.jsx(t,{message:"Download log"})});return e.jsxs(v,{children:[e.jsx(S,{query:r}),e.jsxs(I,{children:[e.jsx(w,{searchValue:a.query,onSearchChange:m,actions:l}),e.jsxs(k,{children:[e.jsx(N,{columns:E,data:r.items,sortDescriptor:o,onSortChange:s,enableSelection:!1}),r.isEmpty&&e.jsx(C,{isFiltering:n,image:A,title:e.jsx(t,{message:"No scheduled commands have ran yet"}),filteringTitle:e.jsx(t,{message:"No matching scheduled commands"})}),e.jsx(P,{query:r,onPageChange:i=>s({page:i}),onPerPageChange:i=>s({perPage:i})})]})]})]})}export{Ie as Component};
