import{al as y,G as x,H as f,aa as n,bx as u,I as h,J as j,b as P,ae as b,M as v,j as t,t as C,T as i,cT as T,a3 as E}from"./main-BEfQELxr.js";import{D as I}from"./paginated-resources-CNSIt8ps.js";import{A as q}from"./article-editor-page-D88b0flf.js";import{P as B}from"./page-meta-tags-BmlELluj.js";import{u as Q}from"./use-required-params-biXhH1lK.js";import{u as S}from"./useSuspenseQuery-CLDVgKJu.js";import{B as D,a as p}from"./breadcrumb-BEqwPK9x.js";import"./Undo-BLMXab-p.js";import"./color-picker-dialog-CjlDJcBT.js";import"./dialog-footer-DZFPEWVp.js";import"./traditional-D9TTECMQ.js";import"./get-image-size-iUxUXrDd.js";import"./use-active-upload-nc09ZUBt.js";import"./file-upload-provider-eR3r-15c.js";import"./uploaded-file-DYvUNPPs.js";import"./extension-from-filename-O0XMuZye.js";import"./pretty-bytes-bO14ePu9.js";import"./open-upload-window-B2GQndIr.js";import"./MoreVert-Dq4kJhtz.js";import"./select-DvPFHFsY.js";import"./combobox-end-adornment-B98K5MYg.js";import"./Link-BqP6t9eF.js";import"./datatable-page-with-header-layout-DgFKm91D.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";import"./ArrowBack-DJaO5gzO.js";import"./core-DgSeRfFP.js";import"./linkify-Cbuu_PPG.js";import"./Edit-gh_pXqg9.js";import"./dashboard-sidenav-DLEjBFF7.js";import"./default-meta-tags-Bj5ecgXc.js";import"./useEffectEvent-TynbBUG3.js";import"./ChevronRight-BB23vmSu.js";import"./MoreHoriz-B7xw7d55.js";function F(o){const{pageId:a}=y(),e=`custom-pages/${a}`;return x({mutationFn:s=>K(s,e),onError:s=>f(s),onSuccess:async()=>{await n.invalidateQueries({queryKey:u.customPages.invalidateKey}),await n.invalidateQueries({queryKey:I(e)}),h(j("Page updated"))}})}function K(o,a){return P.put(`${a}`,o).then(e=>e.data)}function gt(){const{pageId:o}=Q(["pageId"]),a=S(u.customPages.get(o)),e=a.data.page,s=b(),m=F(),r=v({defaultValues:{title:e.title,slug:e.slug,body:e.body}}),d=()=>{m.mutate(r.getValues(),{onSuccess:()=>s("../..",{relative:"path"})})},c=t.jsx(C,{variant:"flat",color:"primary",size:"xs",onClick:()=>d(),disabled:m.isPending,children:t.jsx(i,{message:"Save"})}),l=t.jsxs(D,{size:"xl",children:[t.jsx(p,{to:"../..",relative:"path",children:t.jsx(i,{message:"Custom pages"})}),t.jsx(p,{children:t.jsx(i,{message:"Edit"})})]});return t.jsxs(t.Fragment,{children:[t.jsx(B,{query:a}),t.jsx(T,{...r,children:t.jsx(q,{title:l,saveButton:c,imageUploadType:E.articleImages,initialContent:e.body,onChange:g=>{r.setValue("body",g,{shouldDirty:!0})}})})]})}export{gt as Component};
