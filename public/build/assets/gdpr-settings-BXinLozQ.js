import{M as p,j as o,T as e,P as d,Q as a,Z as x,r as j,W as g,an as h,D as u,t as b}from"./main-BEfQELxr.js";import{a as f}from"./admin-config-BaCrw7Kt.js";import{A as k}from"./settings-layout-CUpx_aK_.js";import{a as c}from"./settings-panel-9vXv66Le.js";import{u as A}from"./use-admin-settings-B1D6D_PM.js";import{A as v,a as F}from"./accordion-CpkAY-cS.js";import{F as P}from"./select-DvPFHFsY.js";import{F as C}from"./switch-kVp777pB.js";import{A as I}from"./Add-Cqjx6ezR.js";import{M as l}from"./menu-item-form-jVn6QDOT.js";import{A as y}from"./add-menu-item-dialog-CI8BJXSG.js";import"./Album-CXNrxcWI.js";import"./Comment-TqhRbk6J.js";import"./FileUpload-DPKPUe4e.js";import"./Mic-cPqrQSx8.js";import"./PlaylistPlay-jDnYmdDX.js";import"./QueueMusic-C8vaKlwp.js";import"./Sell-DvbBmLb2.js";import"./settings-links-BagG4yO6.js";import"./external-link-CT1zJoZ3.js";import"./middleware-BLXTWOs6.js";import"./use-admin-settings-page-nav-config-CxHuJeZb.js";import"./datatable-page-with-header-layout-DgFKm91D.js";import"./dashboard-layout-context-Ors6hOMs.js";import"./use-toggle-dashboard-left-sidebar-BNAUqBUz.js";import"./file-upload-provider-eR3r-15c.js";import"./uploaded-file-DYvUNPPs.js";import"./extension-from-filename-O0XMuZye.js";import"./pretty-bytes-bO14ePu9.js";import"./traditional-D9TTECMQ.js";import"./confirmation-dialog-CYwhNB58.js";import"./dialog-footer-DZFPEWVp.js";import"./useSuspenseQuery-CLDVgKJu.js";import"./combobox-end-adornment-B98K5MYg.js";import"./permission-selector-CPRNcebx.js";import"./list-C_muhLNE.js";import"./uc-first-pSl3nM3z.js";import"./form-chip-field-82C9gJw-.js";import"./input-BypPJ39K.js";import"./chip-list-CnaxlPJ9.js";import"./Edit-gh_pXqg9.js";import"./use-previous-C8UpiCgw.js";import"./skeleton-IvCa_cqw.js";import"./use-filter-BH-sSEP9.js";function Ao(){var n,t,r,m;const{data:i}=A(),s=p({defaultValues:{client:{cookie_notice:{enable:((n=i.client.cookie_notice)==null?void 0:n.enable)??!1,button:((t=i.client.cookie_notice)==null?void 0:t.button)??{},position:((r=i.client.cookie_notice)==null?void 0:r.position)??"bottom"},registration:{policies:((m=i.client.registration)==null?void 0:m.policies)??[]}}}});return o.jsxs(k,{form:s,title:o.jsx(e,{message:"GDPR"}),docsLink:f.settings.gdpr,children:[o.jsx(N,{}),o.jsx(S,{})]})}function N(){const{watch:i}=d(),s=i("client.cookie_notice.enable");return o.jsxs("div",{className:"mb-44",children:[o.jsxs(c,{margin:"mb-24",size:"md",children:[o.jsx(e,{message:"Cookie Notice"}),o.jsx(e,{message:"Configure the cookie consent notice shown to visitors from the European Union."})]}),o.jsx(C,{name:"client.cookie_notice.enable",children:o.jsx(e,{message:"Enable cookie notice"})}),s&&o.jsxs("div",{className:"mt-20 rounded-panel border p-20",children:[o.jsxs("div",{className:"mb-20 border-b pb-6",children:[o.jsx("div",{className:"mb-20 border-b pb-10 text-sm font-medium",children:o.jsx(e,{message:"Information button"})}),o.jsx("div",{className:"mb-20",children:o.jsx(l,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})})]}),o.jsxs(P,{name:"client.cookie_notice.position",selectionMode:"single",label:o.jsx(e,{message:"Cookie notice position"}),children:[o.jsx(a,{value:"top",children:o.jsx(e,{message:"Top"})}),o.jsx(a,{value:"bottom",children:o.jsx(e,{message:"Bottom"})})]})]})]})}function S(){const{fields:i,append:s,remove:n}=x({name:"client.registration.policies"});return o.jsxs(j.Fragment,{children:[o.jsxs(c,{margin:"my-24",size:"md",children:[o.jsx(e,{message:"Registration Policies"}),o.jsx(e,{message:"Create policies that will be shown on the registration page. Users will be required to accept them by toggling a checkbox."})]}),o.jsx(v,{variant:"outline",children:i.map((t,r)=>o.jsx(F,{label:t.label,chevronPosition:"left",endAppend:o.jsx(g,{variant:"text",color:"danger",size:"sm",onClick:()=>n(r),children:o.jsx(h,{})}),children:o.jsx(l,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.registration.policies.${r}`})},t.id))}),o.jsxs(u,{type:"modal",onClose:t=>{t&&s(t)},children:[o.jsx(b,{className:"mt-12",variant:"link",color:"primary",startIcon:o.jsx(I,{}),size:"sm",children:o.jsx(e,{message:"Add another policy"})}),o.jsx(y,{title:o.jsx(e,{message:"Add policy"})})]})]})}export{Ao as Component};
